---
title: 字符串加法与全排列问题
date: 2018-04-22 22:33:18
tags: 算法
category: JavaScript
---

## 概述
依旧来源于codewar的5星题，现在刷codewar，4星题还是蛮吃力的，5星题正好，能锻炼自己也不太吃力。

### 字符串全排列
* 字符串全排列，以数组的形式输出

#### solution1 递归 + 插入

> 假如要得到字符串为“abcd”的全排列数组permutation('abcd')，bcd的全排列结果为permutation('bcd')，这个结果是一个数组['bcd','bdc','cbd','cdb','dbc','dcb']，map这个数组，将a插入到每个字符串的每个位置，就是permutation('abcd')

```js
function sort(str){
    if(str.length <= 1) return [str]
    let left = str[0]
    let arr = []
    let rest = str.substr(1)
    let strArr = sort(rest)
    strArr.forEach(v=>{
        for(let j = 0; j <= v.length; j++){
            let _str = v.slice(0,j) + left + v.slice(j)
            arr.push(_str)
        }
    })
    return arr
}
```
## 字符串加法
数据太大会有溢出问题，所以不能直接+

```js
function sumStrings(a,b) {
// get the min len
  var len = a.length > b.length ? a.length : b.length

  let arr = [0]
  for(let i = 1; i <= len ; i++){
    let num = arr.pop();
    let _a = (a[a.length - i] === undefined) ? 0 : (+a[a.length - i]);
    let _b = (b[b.length -i] === undefined) ? 0 : (+b[b.length -i]);
    let sum1 = _a + _b + num
    let num1 = sum1%10
    let num2 = parseInt(sum1/10)
    arr.push(num1,num2)
  }
  //let _pop = arr.pop()
  let str = arr.reverse().join('')
  for(let i = 0; i < str.length; i++){
    (str[0] === '0') && (str = str.substr(1))
  }
  return str
}
```

## find next bigger
Instructions
Output
You have to create a function that takes a positive integer number and returns the next bigger number formed by the same digits:

nextBigger(12)==21
nextBigger(513)==531
nextBigger(2017)==2071

```js
function nextBigger(n){
  let arr = permutation(""+n)7
  return +arr[arr.indexOf("" + n) + 1]
}

function permutation(str){
  if(str.length === 1) return [str]
  let arr = []
  let left = str[0]
  let rest = str.slice(1)
  let strArr = permutation(rest)
  strArr.forEach(v=>{
    for(let i = 0; i <= v.length; i++){
      let _str = v.slice(0,i) + left + v.slice(i)
      arr.push(_str)
    }
  })
  
  return [... new Set(arr)].sort((a,b)=> a - b)
}
```